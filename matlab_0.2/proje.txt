% Mahmut Burak YALCIN



matrisSatir=input('lütfen matrisinizin satır sayısını giriniz: '); %oluşturacağımız matrisin satır ve sütün değerlerini kullanıcıdan alıyoruz.
matrisSutun=input('lütfen matrisinizin sütün sayısını giriniz: ');
m=round(2+33*rand(matrisSatir,matrisSutun)); %2 ile 35 arası rastgele dizilimli bir matris oluşturuyoruz.
disp(m) %ve ekrana yazdırıyoruz.

while 1 %burada sonsuz bir döngüye giriyoruz.
    birinciZar=randi([1,6]); %zarları tek tek rastgele atıyoruz(1-6 kapalı aralığında)
    ikinciZar=randi([1,6]);
    ucuncuZar=randi([1,6]);
    fprintf('____________________________________\n');
    fprintf('Birinci Zar=%d\n İkinci Zar=%d\n Üçüncü Zar=%d\n',birinciZar,ikinciZar,ucuncuZar);
    enBuyuk=birinciZar; %zarlardan en büyüğü buluyoruz.
    if enBuyuk<ikinciZar
        enBuyuk=ikinciZar;
    end
    if enBuyuk<ucuncuZar
        enBuyuk=ucuncuZar;
    end
    enKucuk=birinciZar; %zarlardan en küçüğü buluyoruz.
    if enKucuk>ikinciZar
        enKucuk=ikinciZar;
    end
    if enKucuk>ucuncuZar
        enKucuk=ucuncuZar;
    end
    ortanca=(birinciZar+ikinciZar+ucuncuZar)-(enKucuk+enBuyuk); %toplamdan büyük ve küçük sayıyı çıkararak ortanca sayıyı buluyoruz.
    islem=(enBuyuk*ortanca)+enKucuk; %bizden istenilen işlemi yerine getirip bir değere atıyoruz.
    fprintf('En Büyük Sayı: %d\n En Küçük Sayı: %d\n Ortanca Sayı: %d\n',enBuyuk,enKucuk,ortanca);
    fprintf('matris de aradığımız sayı %d\n',islem);
    fprintf('\n');
    toplam=0;
    sayac=1;
    for i=1:matrisSatir %işlem sonucunu matriste arıyoruz.
        for j=1:matrisSutun
            if m(i,j)==islem
                m(i,j)=-1;
                disp(m) %güncel halini ekrana yazdırıyoruz.
                fprintf('%d satırlı %d sütünlu matris değeri %d ile eşit olduğundan değeri -1 olmuştur.\n',i,j,islem);
                for k=1:matrisSatir %gerekli verilere -1 yazıldıktan sonra bi satırdaki tüm elemanlar -1 mi ve oyun sona ermiş mi diye kontrol ediyoruz.
                    toplam=0;
                    for h=1:matrisSutun %kontrol etme sistemi bir satırdaki sayıların toplamı (-1 x sütun sayısı)'na eşit mi diye kontrol etmektir. 
                        toplam=toplam+m(k,h);
                        if toplam==(-1*matrisSutun)
                            disp(m)
                            disp('OYUN SONLANMIŞTIR.');
                            return; %eğer oyunumuz bitmiş ise return komutu ile en dış döngü olan while döngüsünü sonlandırıp oyunu bitiriyoruz.
                        end
                    end
                end
                break; %eğer sadece değerimizi bulduysak ama oyunu bitiremediysek break komutu ile döngüden çıkıyoruz.
            elseif sayac==(matrisSutun*matrisSatir)
                fprintf('ilgili sayı matris de bulunamamıştır.\n'); %değerimizi bulamadıysak kullanıcıyı bilgilendiriyoruz.
                disp(m)
            else
                sayac=sayac+1; %sayac ile -1 yazdırıp yazdıramadığımızı kontrol etmek için kullanıyoruz.
            end
        end
        if m(i,j)==-1 %en dıştaki for dan çıkabilmek için tekrardan break kullanıyoruz.
            break;
        end
    end
end





